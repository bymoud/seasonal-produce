<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Panier de Saison: Guide Interactif des Produits Bio en France</title>
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#4A5C3D">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Panier Saison">
    <link rel="apple-touch-icon" href="./icon-192x192.png">
    <meta name="msapplication-TileImage" content="./icon-192x192.png">
    <meta name="msapplication-TileColor" content="#4A5C3D">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FAF8F2;
            color: #1f2937;
        }
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        .month-btn.active {
            background-color: #4A5C3D;
            color: #FFFFFF;
            font-weight: 700;
        }
        .produce-card {
            transition: all 0.3s ease-in-out;
            animation: fadeIn 0.5s ease-in-out;
        }
        .produce-card.highlight {
            background-color: #FEF3C7;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-content.open {
            max-height: 1000px;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="text-center py-8 md:py-12 bg-white shadow-sm">
        <h1 class="font-serif text-4xl md:text-5xl font-bold text-[#4A5C3D]">Le Panier de Saison</h1>
        <p class="mt-2 text-lg md:text-xl text-gray-600">Votre guide interactif des produits bio et de saison en France</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="calendar-explorer" class="mb-12">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-6">Explorez le Calendrier</h2>
            <div id="month-selector" class="flex flex-wrap justify-center gap-2 mb-8"></div>
            
            <div class="relative max-w-lg mx-auto mb-8">
                <input type="text" id="search-input" placeholder="Rechercher un fruit ou un l√©gume..." class="w-full px-4 py-3 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-[#4A5C3D]">
                <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">üîç</span>
            </div>

            <div id="produce-display" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="font-serif text-2xl font-semibold mb-4 text-[#4A5C3D] border-b-2 border-[#4A5C3D]/30 pb-2">üçé Fruits de Saison</h3>
                    <div id="fruits-list" class="flex flex-wrap gap-3"></div>
                </div>
                <div>
                    <h3 class="font-serif text-2xl font-semibold mb-4 text-[#4A5C3D] border-b-2 border-[#4A5C3D]/30 pb-2">ü•¶ L√©gumes de Saison</h3>
                    <div id="vegetables-list" class="flex flex-wrap gap-3"></div>
                </div>
            </div>
             <p id="no-results" class="text-center text-gray-500 mt-8 hidden">Aucun produit ne correspond √† votre recherche pour le mois s√©lectionn√©.</p>
        </section>

        <section id="visualisation" class="mb-12 bg-white p-6 rounded-lg shadow-md">
             <h2 class="text-2xl md:text-3xl font-bold text-center mb-6">Disponibilit√© sur l'Ann√©e</h2>
             <p class="text-center text-gray-600 mb-6">S√©lectionnez un produit pour visualiser sa saisonnalit√© tout au long de l'ann√©e.</p>
             <div class="max-w-md mx-auto mb-4">
                 <select id="product-selector" class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#4A5C3D]"></select>
             </div>
             <div class="chart-container">
                <canvas id="seasonality-chart"></canvas>
            </div>
        </section>

        <section id="context" class="space-y-4">
             <h2 class="text-2xl md:text-3xl font-bold text-center mb-6">Mieux Comprendre pour Mieux Consommer</h2>
            <div class="accordion-item bg-white rounded-lg shadow-sm">
                <button class="accordion-header w-full text-left p-4 flex justify-between items-center">
                    <span class="text-lg font-semibold text-[#4A5C3D]">Pourquoi Manger Local et de Saison ?</span>
                    <span class="accordion-icon text-2xl font-thin transform transition-transform">+</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 pt-0 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                        <div class="p-4">
                            <div class="text-4xl mb-2">üòã</div>
                            <h4 class="font-bold">Plus de Go√ªt</h4>
                            <p class="text-sm text-gray-600">Les produits cueillis √† maturit√© d√©veloppent des saveurs plus riches et intenses.</p>
                        </div>
                        <div class="p-4">
                            <div class="text-4xl mb-2">‚ù§Ô∏è</div>
                            <h4 class="font-bold">Meilleur pour la Sant√©</h4>
                            <p class="text-sm text-gray-600">Les fruits et l√©gumes de saison contiennent une plus grande concentration de vitamines et nutriments.</p>
                        </div>
                        <div class="p-4">
                            <div class="text-4xl mb-2">üåç</div>
                            <h4 class="font-bold">Bon pour la Plan√®te</h4>
                            <p class="text-sm text-gray-600">R√©duit les "food miles" et l'√©nergie n√©cessaire pour la culture hors-saison (serres chauff√©es).</p>
                        </div>
                        <div class="p-4">
                            <div class="text-4xl mb-2">üí∂</div>
                            <h4 class="font-bold">Plus √âconomique</h4>
                            <p class="text-sm text-gray-600">Les produits de saison sont plus abondants et donc souvent moins chers.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item bg-white rounded-lg shadow-sm">
                <button class="accordion-header w-full text-left p-4 flex justify-between items-center">
                    <span class="text-lg font-semibold text-[#4A5C3D]">Comprendre les Labels Bio</span>
                    <span class="accordion-icon text-2xl font-thin transform transition-transform">+</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 pt-0 flex flex-col md:flex-row justify-center items-start gap-8">
                       <div class="text-center p-4">
                           <div class="w-24 h-16 mx-auto mb-2 flex items-center justify-center bg-green-800 rounded text-white font-bold text-sm">Eurofeuille</div>
                           <h4 class="font-bold">Logo Bio Europ√©en</h4>
                           <p class="text-sm text-gray-600 max-w-xs mx-auto">Obligatoire sur les produits bio pr√©-emball√©s dans l'UE. Garantit le respect des r√®gles de l'agriculture biologique europ√©enne.</p>
                       </div>
                       <div class="text-center p-4">
                           <div class="w-24 h-16 mx-auto mb-2 flex items-center justify-center bg-green-200 border border-green-800 rounded text-green-800 font-bold text-2xl">AB</div>
                           <h4 class="font-bold">Label AB Fran√ßais</h4>
                           <p class="text-sm text-gray-600 max-w-xs mx-auto">Label national fran√ßais, volontaire. Align√© sur les standards europ√©ens, il est tr√®s reconnu en France.</p>
                       </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item bg-white rounded-lg shadow-sm">
                <button class="accordion-header w-full text-left p-4 flex justify-between items-center">
                    <span class="text-lg font-semibold text-[#4A5C3D]">O√π Trouver ces Produits ?</span>
                    <span class="accordion-icon text-2xl font-thin transform transition-transform">+</span>
                </button>
                <div class="accordion-content">
                     <div class="p-6 pt-0 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="p-4 rounded-lg bg-green-50">
                            <h4 class="font-bold">March√©s de Producteurs</h4>
                            <p class="text-sm text-gray-600">Cherchez les √©tals "producteur bio" pour un contact direct et des produits frais.</p>
                        </div>
                        <div class="p-4 rounded-lg bg-green-50">
                            <h4 class="font-bold">Magasins Sp√©cialis√©s</h4>
                            <p class="text-sm text-gray-600">Les enseignes comme Biocoop ou Naturalia garantissent une offre 100% bio et souvent locale.</p>
                        </div>
                        <div class="p-4 rounded-lg bg-green-50">
                            <h4 class="font-bold">AMAP</h4>
                            <p class="text-sm text-gray-600">Recevez un panier hebdomadaire de la r√©colte d'un agriculteur local partenaire.</p>
                        </div>
                        <div class="p-4 rounded-lg bg-green-50">
                            <h4 class="font-bold">Vente √† la Ferme</h4>
                            <p class="text-sm text-gray-600">Achetez directement chez le producteur pour une fra√Æcheur et une tra√ßabilit√© maximales.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item bg-white rounded-lg shadow-sm">
                 <button class="accordion-header w-full text-left p-4 flex justify-between items-center">
                    <span class="text-lg font-semibold text-[#4A5C3D]">√Ä Propos de cette Application</span>
                    <span class="accordion-icon text-2xl font-thin transform transition-transform">+</span>
                </button>
                <div class="accordion-content">
                    <div class="p-6 pt-0 prose prose-sm max-w-none text-gray-700">
                        <p>Les donn√©es de ce calendrier sont une synth√®se d'informations provenant de sources fiables et reconnues en France pour leur expertise sur l'alimentation durable et la saisonnalit√©.</p>
                        <p>L'objectif est de fournir un outil pratique et facile d'acc√®s, en gardant √† l'esprit que de l√©g√®res variations de saisonnalit√© peuvent exister selon les r√©gions et les conditions climatiques de l'ann√©e.</p>
                        <p><strong>Sources principales utilis√©es pour la compilation :</strong></p>
                        <ul>
                            <li>ADEME (Agence de la Transition √âcologique)</li>
                            <li>Greenpeace France</li>
                            <li>MangerBouger.fr (Sant√© publique France)</li>
                            <li>Biocoop</li>
                            <li>France Nature Environnement</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
    </main>
    
    <footer class="text-center py-6 mt-12 bg-gray-100 border-t">
        <p class="text-gray-500 text-sm">&copy; 2024 Le Panier de Saison. Un outil pour une consommation √©clair√©e.</p>
    </footer>

    <script>
        const seasonalData = {
            "Janvier": { fruits: ["Citron", "Cl√©mentine", "Kiwi", "Mandarine", "Orange", "Poire", "Pomme"], vegetables: ["Betterave", "Carotte", "C√©leri-rave", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Endive", "M√¢che", "Navet", "Oignon", "Panais", "Poireau", "Salsifis", "Topinambour"] },
            "F√©vrier": { fruits: ["Citron", "Cl√©mentine", "Kiwi", "Mandarine", "Orange", "Pamplemousse", "Poire", "Pomme"], vegetables: ["Betterave", "Carotte", "C√©leri-rave", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Cresson", "Endive", "M√¢che", "Navet", "Oignon", "Panais", "Poireau", "Radis", "Salsifis", "Topinambour", "√âpinard"] },
            "Mars": { fruits: ["Citron", "Kiwi", "Orange", "Pamplemousse", "Pomme", "Poire"], vegetables: ["Asperge", "Betterave", "Carotte", "C√©leri-rave", "Chou (divers)", "Chou-fleur", "Concombre", "Endive", "√âpinard", "Fenouil", "Germe de haricot mungo", "Oignon", "Poireau", "Radis"] },
            "Avril": { fruits: ["Fraise", "Kiwi", "Orange", "Pamplemousse", "Pomme", "Rhubarbe"], vegetables: ["Artichaut", "Asperge", "Betterave", "Carotte", "Chou-fleur", "Chou-rave", "Concombre", "Endive", "√âpinard", "F√®ve", "Laitue", "M√¢che", "Morille", "Navet", "Oignon", "Petit pois", "Radis"] },
            "Mai": { fruits: ["Cerise", "Fraise", "Pamplemousse", "Rhubarbe", "Pomme"], vegetables: ["Artichaut", "Asperge", "Aubergine", "Betterave", "Blette", "Carotte", "Chou-fleur", "Concombre", "Courgette", "√âpinard", "Fenouil", "Laitue", "Navet", "Oignon", "Oseille", "Petit pois", "Pomme de terre", "Radis", "Tomate"] },
            "Juin": { fruits: ["Abricot", "Cassis", "Cerise", "Figue", "Fraise", "Framboise", "Groseille", "Melon", "M√ªre", "Myrtille", "Nectarine", "P√™che", "Prune"], vegetables: ["Ail", "Artichaut", "Asperge", "Aubergine", "Betterave", "Blette", "Brocoli", "Carotte", "C√©leri-branche", "Concombre", "Courgette", "√âpinard", "Fenouil", "F√®ve", "Germe de haricot mungo", "Haricot vert", "Laitue", "Petit pois", "Poivron", "Pomme de terre", "Radis", "Tomate"] },
            "Juillet": { fruits: ["Abricot", "Cassis", "Cerise", "Figue", "Fraise", "Framboise", "Groseille", "Melon", "M√ªre", "Myrtille", "Nectarine", "P√™che", "Prune"], vegetables: ["Ail", "Artichaut", "Aubergine", "Betterave", "Blette", "Brocoli", "Carotte", "C√©leri-branche", "Concombre", "Courgette", "√âpinard", "Fenouil", "Haricot vert", "Laitue", "Lentille", "Ma√Øs doux", "Petit pois", "Poivron", "Pomme de terre", "Radis", "Tomate"] },
            "Ao√ªt": { fruits: ["Abricot", "Figue", "Framboise", "Groseille", "Melon", "Mirabelle", "M√ªre", "Myrtille", "Nectarine", "Past√®que", "P√™che", "Poire", "Pomme", "Prune", "Raisin"], vegetables: ["Ail", "Artichaut", "Aubergine", "Betterave", "Blette", "Brocoli", "Carotte", "C√®pe", "C√©leri-branche", "Concombre", "Courgette", "√âpinard", "Fenouil", "Haricot vert", "Laitue", "Ma√Øs doux", "Poivron", "Tomate"] },
            "Septembre": { fruits: ["Figue", "Framboise", "Melon", "Mirabelle", "M√ªre", "Myrtille", "Nectarine", "Noisette", "P√™che", "Poire", "Pomme", "Prune", "Raisin"], vegetables: ["Artichaut", "Aubergine", "Betterave", "Blette", "Brocoli", "Carotte", "C√©leri-branche", "Champignons", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Concombre", "Courge", "Courgette", "Cresson", "√âpinard", "Fenouil", "Haricot vert", "Laitue", "Ma√Øs doux", "M√¢che", "Oignon", "Panais", "Poireau", "Poivron", "Potimarron", "Radis", "Tomate"] },
            "Octobre": { fruits: ["Ch√¢taigne", "Coing", "Figue", "Framboise", "Kaki", "Noisette", "Noix", "Poire", "Pomme", "Prune", "Raisin"], vegetables: ["Betterave", "Blette", "Brocoli", "Carotte", "C√©leri-rave", "C√©leri-branche", "Champignons", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Chou kale", "Courge", "Courgette", "Cresson", "√âchalote", "Endive", "√âpinard", "Fenouil", "M√¢che", "Navet", "Oignon", "Panais", "Patate douce", "Poireau", "Potimarron", "Potiron", "Radis", "Radis noir", "Topinambour"] },
            "Novembre": { fruits: ["Ch√¢taigne", "Citron", "Cl√©mentine", "Coing", "Kaki", "Kiwi", "Mandarine", "Noisette", "Noix", "Orange", "Poire", "Pomme"], vegetables: ["Betterave", "Brocoli", "Carotte", "C√©leri-rave", "Champignons", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Chou kale", "Chou pomm√©", "Courge", "Cresson", "Endive", "√âpinard", "M√¢che", "Navet", "Oignon", "Panais", "Patate douce", "Poireau", "Potimarron", "Potiron", "Salsifis", "Topinambour"] },
            "D√©cembre": { fruits: ["Ch√¢taigne", "Citron", "Cl√©mentine", "Kaki", "Kiwi", "Mandarine", "Orange", "Poire", "Pomme"], vegetables: ["Betterave", "Carotte", "C√©leri-rave", "Champignon de Paris", "Chou (divers)", "Chou de Bruxelles", "Chou-fleur", "Chou kale", "Courge", "Cresson", "Endive", "√âpinard", "M√¢che", "Navet", "Oignon", "Panais", "Poireau", "Potimarron", "Potiron", "Salsifis", "Topinambour"] }
        };

        const months = Object.keys(seasonalData);
        let currentMonth = months[new Date().getMonth()];
        let chart;

        function displayProduce(month, searchTerm = '') {
            const fruitsList = document.getElementById('fruits-list');
            const vegetablesList = document.getElementById('vegetables-list');
            const noResults = document.getElementById('no-results');
            fruitsList.innerHTML = '';
            vegetablesList.innerHTML = '';
            noResults.classList.add('hidden');

            const data = seasonalData[month];
            let fruitCount = 0;
            let vegCount = 0;

            const createCard = (item, type) => {
                 if (searchTerm && !item.toLowerCase().includes(searchTerm.toLowerCase())) {
                    return;
                }
                const card = document.createElement('div');
                card.className = 'produce-card bg-white px-4 py-2 rounded-full shadow-sm text-gray-700 border border-gray-200';
                card.textContent = item;
                if (type === 'fruit') {
                    fruitsList.appendChild(card);
                    fruitCount++;
                } else {
                    vegetablesList.appendChild(card);
                    vegCount++;
                }
            };
            
            data.fruits.forEach(fruit => createCard(fruit, 'fruit'));
            data.vegetables.forEach(veg => createCard(veg, 'vegetable'));
            
            if (fruitCount === 0 && vegCount === 0) {
                noResults.classList.remove('hidden');
            }
        }

        function setupMonthSelector() {
            const selector = document.getElementById('month-selector');
            months.forEach(month => {
                const button = document.createElement('button');
                button.textContent = month;
                button.className = 'month-btn px-3 py-1.5 md:px-4 md:py-2 text-sm md:text-base rounded-full transition-colors duration-200 hover:bg-[#4A5C3D]/80 hover:text-white';
                if (month === currentMonth) {
                    button.classList.add('active');
                }
                button.addEventListener('click', () => {
                    currentMonth = month;
                    document.querySelector('.month-btn.active').classList.remove('active');
                    button.classList.add('active');
                    displayProduce(currentMonth, document.getElementById('search-input').value);
                });
                selector.appendChild(button);
            });
        }

        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value;
                displayProduce(currentMonth, searchTerm);
            });
        }
        
        function setupAccordions() {
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('.accordion-icon');
                    const isOpen = content.classList.contains('open');

                    document.querySelectorAll('.accordion-content.open').forEach(openContent => {
                        openContent.classList.remove('open');
                        openContent.previousElementSibling.querySelector('.accordion-icon').textContent = '+';
                        openContent.previousElementSibling.querySelector('.accordion-icon').classList.remove('rotate-45');
                    });
                    
                    if (!isOpen) {
                        content.classList.add('open');
                        icon.textContent = '-';
                        icon.classList.add('rotate-45');
                    }
                });
            });
        }

        function setupChart() {
            const allProducts = [...new Set(Object.values(seasonalData).flatMap(d => [...d.fruits, ...d.vegetables]))].sort();
            const selector = document.getElementById('product-selector');
            allProducts.forEach(product => {
                const option = document.createElement('option');
                option.value = product;
                option.textContent = product;
                selector.appendChild(option);
            });
            
            const ctx = document.getElementById('seasonality-chart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: months.map(m => m.substring(0,3)),
                    datasets: [{
                        label: 'En saison',
                        data: [],
                        backgroundColor: [],
                        borderColor: [],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw === 1 ? 'En saison' : 'Hors saison';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            display: false,
                            beginAtZero: true,
                            max: 1.2
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            selector.addEventListener('change', (e) => {
                updateChart(e.target.value);
            });

            updateChart(allProducts[0]);
        }
        
        function updateChart(product) {
            const productSeasonality = months.map(month => {
                const monthData = seasonalData[month];
                return monthData.fruits.includes(product) || monthData.vegetables.includes(product) ? 1 : 0;
            });
            
            chart.data.datasets[0].data = productSeasonality;
            chart.data.datasets[0].backgroundColor = productSeasonality.map(d => d === 1 ? '#4A5C3D' : '#D1D5DB');
            chart.data.datasets[0].borderColor = productSeasonality.map(d => d === 1 ? '#4A5C3D' : '#D1D5DB');
            chart.options.plugins.tooltip.callbacks.title = () => product;
            chart.update();
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // PWA Install Prompt with fallback
        let deferredPrompt;
        let installButton;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallPrompt();
        });

        function showInstallPrompt() {
            if (installButton) return; // Don't create multiple buttons
            
            installButton = document.createElement('button');
            installButton.textContent = 'üì± Installer l\'application';
            installButton.className = 'fixed bottom-4 right-4 bg-[#4A5C3D] text-white px-4 py-2 rounded-lg shadow-lg hover:bg-[#4A5C3D]/90 transition-colors z-50';
            installButton.addEventListener('click', handleInstallClick);
            document.body.appendChild(installButton);
        }
        
        function handleInstallClick() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    }
                    deferredPrompt = null;
                    installButton.remove();
                    installButton = null;
                });
            } else {
                // Fallback: Show manual installation instructions
                showManualInstallInstructions();
            }
        }
        
        function showManualInstallInstructions() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full">
                    <h3 class="text-lg font-bold mb-4">üì± Installation manuelle</h3>
                    <div class="space-y-3 text-sm">
                        <p><strong>Chrome/Edge :</strong></p>
                        <p>‚Ä¢ Appuyez sur le menu ‚ãÆ (3 points)</p>
                        <p>‚Ä¢ S√©lectionnez "Ajouter √† l'√©cran d'accueil"</p>
                        <br>
                        <p><strong>Firefox :</strong></p>
                        <p>‚Ä¢ Appuyez sur le menu ‚ãÆ</p>
                        <p>‚Ä¢ S√©lectionnez "Installer"</p>
                        <br>
                        <p><strong>Safari (iOS) :</strong></p>
                        <p>‚Ä¢ Appuyez sur le bouton Partager üì§</p>
                        <p>‚Ä¢ S√©lectionnez "Sur l'√©cran d'accueil"</p>
                    </div>
                    <button class="mt-4 w-full bg-[#4A5C3D] text-white py-2 rounded" onclick="this.parentElement.parentElement.remove()">
                        Compris
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Show install button after page load for users who don't get the prompt
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (!deferredPrompt && !installButton && !window.matchMedia('(display-mode: standalone)').matches) {
                    showInstallPrompt();
                }
            }, 3000); // Show after 3 seconds if no prompt appeared
        });

        document.addEventListener('DOMContentLoaded', () => {
            setupMonthSelector();
            displayProduce(currentMonth);
            setupSearch();
            setupAccordions();
            setupChart();
        });
    </script>
</body>
</html>
